import{ag as Z,c as _,o as d,P as r,H as p,T as ee,G as $,K as se,u as te,r as c,f as F,S as oe,a as t,C as ne,L,D as O,M as I,X as le,k as ae,J as S,O as P,a6 as j,at as re}from"./@vue-CVEDb2Hp.js";import{u as ie,a as z,c as ue,b as ce}from"./vue-router-CjgXER_4.js";import{E as U,a as pe,b as de,c as me,d as ge,e as ve,f as _e,g as fe,h as he,i as ye}from"./element-plus-CgpM7Wtg.js";import"./lodash-es-S0Y0Up6J.js";import"./@vueuse-DsUHJzd8.js";import"./@element-plus-DeAtZ8DB.js";import"./@popperjs-D_chPuIy.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BC8lxUvW.js";import"./async-validator-9PlIezaS.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./@floating-ui-hUPcw3xl.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))y(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&y(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerPolicy&&(l.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?l.credentials="include":e.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function y(e){if(e.ep)return;e.ep=!0;const l=n(e);fetch(e.href,l)}})();const be={id:"app"},xe={__name:"App",setup(w){const m=ie();return(n,y)=>{const e=Z("router-view");return d(),_("div",be,[r(e,null,{default:p(({Component:l})=>[r(ee,{name:"page-transition",mode:"out-in"},{default:p(()=>[(d(),$(se(l),{key:te(m).fullPath}))]),_:2},1024)]),_:1})])}}},Ee="/ApexGrouping/assets/topMp4-Bvogt_5d.mp4",H="/ApexGrouping/assets/%E7%94%BB%E5%BB%8A-CI3dpmr5.jpg",X="/ApexGrouping/assets/%E6%A0%96%E6%81%AF%E5%9C%B0-Bw5njRGr.jpg",K="/ApexGrouping/assets/%E6%B4%BE%E5%AF%B9%E7%A0%B4%E5%9D%8F%E8%80%85-DC9uXyjM.jpg",q="/ApexGrouping/assets/%E6%BA%A2%E5%87%BA-DhsU-koy.jpg",J="/ApexGrouping/assets/%E7%9B%B8%E4%BD%8D%E5%A5%94%E8%B7%91%E8%80%85-D4X87R-V.jpg",W="/ApexGrouping/assets/icon-pt50-BxjgfpMN.png",we="/ApexGrouping/assets/preview-CcCErcww.jpg",Q=(w,m)=>{const n=w.__vccOpts||w;for(const[y,e]of m)n[y]=e;return n},Be={class:"video-container"},Ae=["src","muted"],Ce={class:"play-box"},Me={class:"sound-box"},Le={class:"btn-box"},Ve={__name:"homeView",setup(w){const m=z(),n=c(null),y=c(Ee),e=c(!0),l=c(!1),i=c("center"),V=c(!1),E=c(!1),b=c(!1),N=[H,X,K,q,J,W,we],k=()=>{const s=N.map(a=>new Promise((o,g)=>{const h=new Image;h.onload=()=>o(a),h.onerror=x=>g(x),h.src=a}));Promise.allSettled(s).then(a=>{a.filter(o=>o.status==="fulfilled").length,b.value=!0}).catch(a=>{console.error("图片预加载失败:",a),b.value=!0})},D=()=>{e.value=!e.value,n.value.muted=e.value};F(()=>{k(),n.value&&(n.value.play().catch(s=>{console.error("视频播放失败:",s)}),n.value.addEventListener("playing",()=>{l.value=!0}),n.value.addEventListener("pause",()=>{l.value=!1}))}),oe(()=>{n.value&&(n.value.removeEventListener("playing",()=>{}),n.value.removeEventListener("pause",()=>{}))});const T=()=>{E.value=!0,V.value=!0},f=()=>{E.value&&m.push("/grouping")};return(s,a)=>{const o=U;return d(),_("div",{class:O(["home-page-box",{moving:V.value}]),onTransitionend:f},[t("div",Be,[t("video",{ref_key:"videoRef",ref:n,src:y.value,autoplay:"",loop:"",muted:e.value,class:"video-element",style:ne({objectPosition:i.value})},null,12,Ae)]),t("div",Ce,[t("div",Me,[r(o,{class:"sound-btn",onClick:D},{default:p(()=>[L(I(e.value?"🔇":"🔊"),1)]),_:1})]),a[1]||(a[1]=t("div",{class:"title-box"},[t("h1",null,[L(" 歪比巴卜_(:3」∠)_专属"),t("br"),t("span",{class:"subtitle"},"Apex Legends"),L("随机分组系统"),t("br"),t("span",{class:"tagline"},"快速匹配·智能分组·开启竞技新纪元")])],-1)),t("div",Le,[r(o,{size:"large",type:"success",round:"",class:"start-btn",onClick:T},{default:p(()=>a[0]||(a[0]=[L("开始随机分组")])),_:1,__:[0]})])])],34)}}},Ge=Q(Ve,[["__scopeId","data-v-96f099b4"]]),Pe={class:"grouping-content"},je={class:"groupingBox"},Ie={class:"grouping-img"},Ne={class:"groupingBox"},ke={class:"staffBox"},De={class:"formBox"},Te={key:0,class:"result-container"},Re={style:{display:"flex","flex-direction":"column","align-items":"center","font-size":"25px","font-weight":"700"}},$e={key:0},Se={style:{"margin-bottom":"20px"}},Fe={class:"groupImg"},Oe={__name:"groupingView",setup(w){z();const m=c(!1),n=c([{id:0,url:H},{id:1,url:X},{id:2,url:K},{id:3,url:q},{id:4,url:J}]),y=c(W),e=c([]),l=c(0),i=le({session:"",watch:"",nameList:[]}),V=c([]),E=c([]),b=c([]);F(()=>{setTimeout(()=>{m.value=!0},10)});const N=f=>{},k=()=>{e.value.length===n.value.length&&(e.value=[]);let f;do f=Math.floor(Math.random()*n.value.length);while(e.value.includes(f));e.value.push(f),l.value=f,console.log(D.value,"currentMap")},D=ae(()=>n.value[l.value]),T=()=>{const f=i.nameList.split(/[;；]/).map(o=>o.trim()).filter(o=>o),s=parseInt(i.session)||1,a=[];for(let o=0;o<s;o++){const g=[...f];for(let v=g.length-1;v>0;v--){const u=Math.floor(Math.random()*(v+1));[g[v],g[u]]=[g[u],g[v]]}const h=g.slice(0,6),x=g.slice(6),G=[],R=h.length,B=Math.ceil(R/3);for(let v=0;v<B;v++){const u=v*3,C=h.slice(u,u+3).map((M,Y)=>`第${u+Y+1}位: ${M}`);G.push(C)}a.push({sessionNumber:o+1,groups:G,unusedMembers:x}),o===s-1&&(E.value=x)}b.value=a.flatMap(o=>o.groups),V.value=a.map(o=>({sessionNumber:o.sessionNumber,members:o.unusedMembers}));for(let o=1;o<=i.session;o++)k()};return(f,s)=>{const a=ge,o=me,g=pe,h=_e,x=ve,G=de,R=U,B=fe,v=he;return d(),_("div",{class:O(["grouping-box",{amplify:m.value}]),onAnimationend:N},[t("div",Pe,[t("div",je,[s[3]||(s[3]=t("div",{class:"groupingTitle"}," 竞技场地图展示 ",-1)),t("div",Ie,[r(g,{interval:4e3,type:"card",autoplay:"","indicator-position":"none",arrow:"never","pause-on-hover":!1},{default:p(()=>[(d(!0),_(P,null,j(n.value,u=>(d(),$(o,{key:u},{default:p(()=>[r(a,{src:u.url,fit:"cover",style:{width:"100%",height:"100%"},lazy:""},null,8,["src"])]),_:2},1024))),128))]),_:1})])]),t("div",Ne,[s[5]||(s[5]=t("div",{class:"groupingTitle"}," 随机分组-随机地图 ",-1)),t("div",ke,[t("div",De,[r(G,{inline:!0,model:i,class:"demo-form-inline"},{default:p(()=>[r(x,{label:"战斗场数：","label-width":"120px",placeholder:"session"},{default:p(()=>[r(h,{modelValue:i.session,"onUpdate:modelValue":s[0]||(s[0]=u=>i.session=u),clearable:"",placeholder:"请输入战斗场数："},null,8,["modelValue"])]),_:1}),r(x,{label:"观战人数：","label-width":"120px",placeholder:"watch"},{default:p(()=>[r(h,{modelValue:i.watch,"onUpdate:modelValue":s[1]||(s[1]=u=>i.watch=u),clearable:"",placeholder:"请输入观战人数"},null,8,["modelValue"])]),_:1}),r(x,{label:"战斗人员名单","label-width":"120px",placeholder:"nameList"},{default:p(()=>[r(h,{modelValue:i.nameList,"onUpdate:modelValue":s[2]||(s[2]=u=>i.nameList=u),style:{width:"192px"},autosize:"",type:"textarea",placeholder:"请输入名单,以;分隔"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),t("span",null,[r(R,{type:"success",round:"",size:"large",onClick:T},{default:p(()=>s[4]||(s[4]=[L("开始匹配")])),_:1,__:[4]})])])])]),b.value.length?(d(),_("div",Te,[s[9]||(s[9]=t("h3",{class:"groupingTitle"},"分组结果",-1)),(d(!0),_(P,null,j(Math.ceil(b.value.length/2),(u,A)=>(d(),$(v,{class:"groupingRow",key:A},{default:p(()=>[r(B,{span:8,class:"groupingCol"},{default:p(()=>[s[6]||(s[6]=t("span",{class:"groupAsty"}," A小组 ",-1)),(d(!0),_(P,null,j(b.value[A*2],(C,M)=>(d(),_("div",{class:"groupingColDiv",key:M},I(C),1))),128))]),_:2,__:[6]},1024),r(B,{span:8,class:"groupingCol"},{default:p(()=>[t("div",Re,[E.value&&E.value.length>0?(d(),_("div",$e,[t("p",Se," 观战人员: "+I(E.value.join("、")),1)])):S("",!0),r(a,{src:y.value,style:{width:"200px",height:"200px"}},null,8,["src"])])]),_:1}),r(B,{span:8,class:"groupingCol"},{default:p(()=>[s[7]||(s[7]=t("span",{class:"groupBsty"}," B小组 ",-1)),(d(!0),_(P,null,j(b.value[A*2+1]||[],(C,M)=>(d(),_("div",{class:"groupingColDiv",key:M},I(C),1))),128))]),_:2,__:[7]},1024),t("div",Fe,[s[8]||(s[8]=t("h3",null,"比赛地图",-1)),r(a,{style:{width:"100%",height:"100%"},src:n.value[(A+1)%n.value.length].url,fit:"cover"},null,8,["src"])])]),_:2},1024))),128))])):S("",!0)])],34)}}},ze=Q(Oe,[["__scopeId","data-v-b48c72e5"]]),Ue=[{path:"/",name:"Home",component:Ge},{path:"/grouping",name:"Grouping",component:ze}],He=ue({history:ce("/ApexGrouping/"),routes:Ue});re(xe).use(He).use(ye).mount("#app");
