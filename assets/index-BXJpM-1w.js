import{ag as Z,c as _,o as d,P as r,H as p,T as ee,G as $,K as te,u as se,r as c,f as F,S as oe,a as s,C as ne,L,D as O,M as j,X as le,k as ae,J as S,O as G,a6 as I,at as re}from"./@vue-CVEDb2Hp.js";import{u as ie,a as z,c as ue,b as ce}from"./vue-router-CjgXER_4.js";import{E as U,a as pe,b as de,c as me,d as ge,e as ve,f as _e,g as fe,h as he,i as ye}from"./element-plus-CgpM7Wtg.js";import"./lodash-es-S0Y0Up6J.js";import"./@vueuse-DsUHJzd8.js";import"./@element-plus-DeAtZ8DB.js";import"./@popperjs-D_chPuIy.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BC8lxUvW.js";import"./async-validator-9PlIezaS.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-BQoi3Ox2.js";import"./@floating-ui-hUPcw3xl.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))y(e);new MutationObserver(e=>{for(const l of e)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&y(i)}).observe(document,{childList:!0,subtree:!0});function n(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerPolicy&&(l.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?l.credentials="include":e.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function y(e){if(e.ep)return;e.ep=!0;const l=n(e);fetch(e.href,l)}})();const be={id:"app"},xe={__name:"App",setup(B){const m=ie();return(n,y)=>{const e=Z("router-view");return d(),_("div",be,[r(e,null,{default:p(({Component:l})=>[r(ee,{name:"page-transition",mode:"out-in"},{default:p(()=>[(d(),$(te(l),{key:se(m).fullPath}))]),_:2},1024)]),_:1})])}}},Ee="/ApexGrouping/assets/topMp4-Bvogt_5d.mp4",H="/ApexGrouping/assets/%E7%94%BB%E5%BB%8A-CI3dpmr5.jpg",X="/ApexGrouping/assets/%E6%A0%96%E6%81%AF%E5%9C%B0-Bw5njRGr.jpg",K="/ApexGrouping/assets/%E6%B4%BE%E5%AF%B9%E7%A0%B4%E5%9D%8F%E8%80%85-DC9uXyjM.jpg",q="/ApexGrouping/assets/%E6%BA%A2%E5%87%BA-DhsU-koy.jpg",J="/ApexGrouping/assets/%E7%9B%B8%E4%BD%8D%E5%A5%94%E8%B7%91%E8%80%85-D4X87R-V.jpg",W="/ApexGrouping/assets/icon-pt50-BxjgfpMN.png",Q=(B,m)=>{const n=B.__vccOpts||B;for(const[y,e]of m)n[y]=e;return n},Be={class:"video-container"},we=["src","muted"],Ae={class:"play-box"},Me={class:"sound-box"},Ce={class:"btn-box"},Le={__name:"homeView",setup(B){const m=z(),n=c(null),y=c(Ee),e=c(!0),l=c(!1),i=c("center"),V=c(!1),E=c(!1),b=c(!1),N=[H,X,K,q,J,W],k=()=>{const t=N.map(a=>new Promise((o,g)=>{const h=new Image;h.onload=()=>o(a),h.onerror=x=>g(x),h.src=a}));Promise.allSettled(t).then(a=>{a.filter(o=>o.status==="fulfilled").length,b.value=!0}).catch(a=>{console.error("图片预加载失败:",a),b.value=!0})},D=()=>{e.value=!e.value,n.value.muted=e.value};F(()=>{k(),n.value&&(n.value.play().catch(t=>{console.error("视频播放失败:",t)}),n.value.addEventListener("playing",()=>{l.value=!0}),n.value.addEventListener("pause",()=>{l.value=!1}))}),oe(()=>{n.value&&(n.value.removeEventListener("playing",()=>{}),n.value.removeEventListener("pause",()=>{}))});const T=()=>{E.value=!0,V.value=!0},f=()=>{E.value&&m.push("/grouping")};return(t,a)=>{const o=U;return d(),_("div",{class:O(["home-page-box",{moving:V.value}]),onTransitionend:f},[s("div",Be,[s("video",{ref_key:"videoRef",ref:n,src:y.value,autoplay:"",loop:"",muted:e.value,class:"video-element",style:ne({objectPosition:i.value})},null,12,we)]),s("div",Ae,[s("div",Me,[r(o,{class:"sound-btn",onClick:D},{default:p(()=>[L(j(e.value?"🔇":"🔊"),1)]),_:1})]),a[1]||(a[1]=s("div",{class:"title-box"},[s("h1",null,[L(" 歪比巴卜_(:3」∠)_专属"),s("br"),s("span",{class:"subtitle"},"Apex Legends"),L("随机分组系统"),s("br"),s("span",{class:"tagline"},"快速匹配·智能分组·开启竞技新纪元")])],-1)),s("div",Ce,[r(o,{size:"large",type:"success",round:"",class:"start-btn",onClick:T},{default:p(()=>a[0]||(a[0]=[L("开始随机分组")])),_:1,__:[0]})])])],34)}}},Ve=Q(Le,[["__scopeId","data-v-23705b73"]]),Pe={class:"grouping-content"},Ge={class:"groupingBox"},Ie={class:"grouping-img"},je={class:"groupingBox"},Ne={class:"staffBox"},ke={class:"formBox"},De={key:0,class:"result-container"},Te={style:{display:"flex","flex-direction":"column","align-items":"center","font-size":"25px","font-weight":"700"}},Re={key:0},$e={style:{"margin-bottom":"20px"}},Se={class:"groupImg"},Fe={__name:"groupingView",setup(B){z();const m=c(!1),n=c([{id:0,url:H},{id:1,url:X},{id:2,url:K},{id:3,url:q},{id:4,url:J}]),y=c(W),e=c([]),l=c(0),i=le({session:"",watch:"",nameList:[]}),V=c([]),E=c([]),b=c([]);F(()=>{setTimeout(()=>{m.value=!0},10)});const N=f=>{},k=()=>{e.value.length===n.value.length&&(e.value=[]);let f;do f=Math.floor(Math.random()*n.value.length);while(e.value.includes(f));e.value.push(f),l.value=f,console.log(D.value,"currentMap")},D=ae(()=>n.value[l.value]),T=()=>{const f=i.nameList.split(/[;；]/).map(o=>o.trim()).filter(o=>o),t=parseInt(i.session)||1,a=[];for(let o=0;o<t;o++){const g=[...f];for(let v=g.length-1;v>0;v--){const u=Math.floor(Math.random()*(v+1));[g[v],g[u]]=[g[u],g[v]]}const h=g.slice(0,6),x=g.slice(6),P=[],R=h.length,w=Math.ceil(R/3);for(let v=0;v<w;v++){const u=v*3,M=h.slice(u,u+3).map((C,Y)=>`第${u+Y+1}位: ${C}`);P.push(M)}a.push({sessionNumber:o+1,groups:P,unusedMembers:x}),o===t-1&&(E.value=x)}b.value=a.flatMap(o=>o.groups),V.value=a.map(o=>({sessionNumber:o.sessionNumber,members:o.unusedMembers}));for(let o=1;o<=i.session;o++)k()};return(f,t)=>{const a=ge,o=me,g=pe,h=_e,x=ve,P=de,R=U,w=fe,v=he;return d(),_("div",{class:O(["grouping-box",{amplify:m.value}]),onAnimationend:N},[s("div",Pe,[s("div",Ge,[t[3]||(t[3]=s("div",{class:"groupingTitle"}," 竞技场地图展示 ",-1)),s("div",Ie,[r(g,{interval:4e3,type:"card",autoplay:"","indicator-position":"none",arrow:"never","pause-on-hover":!1},{default:p(()=>[(d(!0),_(G,null,I(n.value,u=>(d(),$(o,{key:u},{default:p(()=>[r(a,{src:u.url,fit:"cover",style:{width:"100%",height:"100%"},lazy:""},null,8,["src"])]),_:2},1024))),128))]),_:1})])]),s("div",je,[t[5]||(t[5]=s("div",{class:"groupingTitle"}," 随机分组-随机地图 ",-1)),s("div",Ne,[s("div",ke,[r(P,{inline:!0,model:i,class:"demo-form-inline"},{default:p(()=>[r(x,{label:"战斗场数：","label-width":"120px",placeholder:"session"},{default:p(()=>[r(h,{modelValue:i.session,"onUpdate:modelValue":t[0]||(t[0]=u=>i.session=u),clearable:"",placeholder:"请输入战斗场数："},null,8,["modelValue"])]),_:1}),r(x,{label:"观战人数：","label-width":"120px",placeholder:"watch"},{default:p(()=>[r(h,{modelValue:i.watch,"onUpdate:modelValue":t[1]||(t[1]=u=>i.watch=u),clearable:"",placeholder:"请输入观战人数"},null,8,["modelValue"])]),_:1}),r(x,{label:"战斗人员名单","label-width":"120px",placeholder:"nameList"},{default:p(()=>[r(h,{modelValue:i.nameList,"onUpdate:modelValue":t[2]||(t[2]=u=>i.nameList=u),style:{width:"192px"},autosize:"",type:"textarea",placeholder:"请输入名单,以;分隔"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),s("span",null,[r(R,{type:"success",round:"",size:"large",onClick:T},{default:p(()=>t[4]||(t[4]=[L("开始匹配")])),_:1,__:[4]})])])])]),b.value.length?(d(),_("div",De,[t[9]||(t[9]=s("h3",{class:"groupingTitle"},"分组结果",-1)),(d(!0),_(G,null,I(Math.ceil(b.value.length/2),(u,A)=>(d(),$(v,{class:"groupingRow",key:A},{default:p(()=>[r(w,{span:8,class:"groupingCol"},{default:p(()=>[t[6]||(t[6]=s("span",{class:"groupAsty"}," A小组 ",-1)),(d(!0),_(G,null,I(b.value[A*2],(M,C)=>(d(),_("div",{class:"groupingColDiv",key:C},j(M),1))),128))]),_:2,__:[6]},1024),r(w,{span:8,class:"groupingCol"},{default:p(()=>[s("div",Te,[E.value&&E.value.length>0?(d(),_("div",Re,[s("p",$e," 观战人员: "+j(E.value.join("、")),1)])):S("",!0),r(a,{src:y.value,style:{width:"200px",height:"200px"}},null,8,["src"])])]),_:1}),r(w,{span:8,class:"groupingCol"},{default:p(()=>[t[7]||(t[7]=s("span",{class:"groupBsty"}," B小组 ",-1)),(d(!0),_(G,null,I(b.value[A*2+1]||[],(M,C)=>(d(),_("div",{class:"groupingColDiv",key:C},j(M),1))),128))]),_:2,__:[7]},1024),s("div",Se,[t[8]||(t[8]=s("h3",null,"比赛地图",-1)),r(a,{style:{width:"100%",height:"100%"},src:n.value[(A+1)%n.value.length].url,fit:"cover"},null,8,["src"])])]),_:2},1024))),128))])):S("",!0)])],34)}}},Oe=Q(Fe,[["__scopeId","data-v-599365fa"]]),ze=[{path:"/",name:"Home",component:Ve},{path:"/grouping",name:"Grouping",component:Oe}],Ue=ue({history:ce("/ApexGrouping/"),routes:ze});re(xe).use(Ue).use(ye).mount("#app");
